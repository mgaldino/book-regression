<!DOCTYPE html>
<html lang="pt" xml:lang="pt">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 14 - Apêndice | Introdução à Regresssão para Ciências Sociais</title>
  <meta name="description" content="Capítulo 14 - Apêndice | Introdução à Regresssão para Ciências Sociais" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 14 - Apêndice | Introdução à Regresssão para Ciências Sociais" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 14 - Apêndice | Introdução à Regresssão para Ciências Sociais" />
  
  
  

<meta name="author" content="Manoel Galdino" />


<meta name="date" content="2025-11-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="glm.html"/>
<link rel="next" href="teoremas.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução à Regressão</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="14-Apêndice.html"><a href="#pref%C3%A1cio"><i class="fa fa-check"></i><b>1</b> - Prefácio</a></li>
<li class="chapter" data-level="2" data-path="14-Apêndice.html"><a href="#revis%C3%A3o-de-r"><i class="fa fa-check"></i><b>2</b> - Revisão de R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="revisão-de-r.html"><a href="revisão-de-r.html"><i class="fa fa-check"></i><b>2.1</b> R e Rstudio</a></li>
<li class="chapter" data-level="2.2" data-path="revisão-de-r.html"><a href="revisão-de-r.html#r-como-calculadora"><i class="fa fa-check"></i><b>2.2</b> R como calculadora</a></li>
<li class="chapter" data-level="2.3" data-path="revisão-de-r.html"><a href="revisão-de-r.html#objetos-no-r"><i class="fa fa-check"></i><b>2.3</b> Objetos no R</a></li>
<li class="chapter" data-level="2.4" data-path="revisão-de-r.html"><a href="revisão-de-r.html#tipos-de-objetos"><i class="fa fa-check"></i><b>2.4</b> Tipos de objetos</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="revisão-de-r.html"><a href="revisão-de-r.html#numeric"><i class="fa fa-check"></i><b>2.4.1</b> Numeric</a></li>
<li class="chapter" data-level="2.4.2" data-path="revisão-de-r.html"><a href="revisão-de-r.html#character"><i class="fa fa-check"></i><b>2.4.2</b> character</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="revisão-de-r.html"><a href="revisão-de-r.html#armazenando-dados"><i class="fa fa-check"></i><b>2.5</b> Armazenando dados</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="revisão-de-r.html"><a href="revisão-de-r.html#vetor"><i class="fa fa-check"></i><b>2.5.1</b> Vetor</a></li>
<li class="chapter" data-level="2.5.2" data-path="revisão-de-r.html"><a href="revisão-de-r.html#matriz"><i class="fa fa-check"></i><b>2.5.2</b> Matriz</a></li>
<li class="chapter" data-level="2.5.3" data-path="revisão-de-r.html"><a href="revisão-de-r.html#data-frame"><i class="fa fa-check"></i><b>2.5.3</b> Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="revisão-de-r.html"><a href="revisão-de-r.html#bibliotecaspacotes"><i class="fa fa-check"></i><b>2.6</b> Bibliotecas/pacotes</a></li>
<li class="chapter" data-level="2.7" data-path="revisão-de-r.html"><a href="revisão-de-r.html#importando-dados"><i class="fa fa-check"></i><b>2.7</b> importando dados</a></li>
<li class="chapter" data-level="2.8" data-path="revisão-de-r.html"><a href="revisão-de-r.html#data-wrangling"><i class="fa fa-check"></i><b>2.8</b> Data wrangling</a></li>
<li class="chapter" data-level="2.9" data-path="14-Apêndice.html"><a href="#visualiza%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>2.9</b> Visualização</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="14-Apêndice.html"><a href="#revis%C3%A3o-de-estat%C3%ADstica-e-probabilidade"><i class="fa fa-check"></i><b>3</b> - Revisão de estatística e probabilidade</a>
<ul>
<li class="chapter" data-level="3.1" data-path="14-Apêndice.html"><a href="#vari%C3%A1vel-aleat%C3%B3ria"><i class="fa fa-check"></i><b>3.1</b> Variável Aleatória</a></li>
<li class="chapter" data-level="3.2" data-path="14-Apêndice.html"><a href="#esperan%C3%A7a-matem%C3%A1tica"><i class="fa fa-check"></i><b>3.2</b> Esperança matemática</a></li>
<li class="chapter" data-level="3.3" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia"><i class="fa fa-check"></i><b>3.3</b> Variância</a></li>
<li class="chapter" data-level="3.4" data-path="14-Apêndice.html"><a href="#%C3%A1lgebra-com-esperan%C3%A7a-vari%C3%A2ncia-e-covari%C3%A2ncia"><i class="fa fa-check"></i><b>3.4</b> Álgebra com Esperança, Variância e Covariância</a></li>
<li class="chapter" data-level="3.5" data-path="14-Apêndice.html"><a href="#prova-da-identidade-da-vari%C3%A2ncia"><i class="fa fa-check"></i><b>3.5</b> Prova da identidade da variância</a></li>
<li class="chapter" data-level="3.6" data-path="14-Apêndice.html"><a href="#distribui%C3%A7%C3%A3o-de-probabilidade-conjunta"><i class="fa fa-check"></i><b>3.6</b> Distribuição de Probabilidade Conjunta</a></li>
<li class="chapter" data-level="3.7" data-path="revisão-de-estatística-e-probabilidade.html"><a href="revisão-de-estatística-e-probabilidade.html"><i class="fa fa-check"></i><b>3.7</b> Probabilidade Condicional</a></li>
<li class="chapter" data-level="3.8" data-path="14-Apêndice.html"><a href="#esperan%C3%A7a-condicional"><i class="fa fa-check"></i><b>3.8</b> Esperança Condicional</a></li>
<li class="chapter" data-level="3.9" data-path="14-Apêndice.html"><a href="#proje%C3%A7%C3%A3o-linear"><i class="fa fa-check"></i><b>3.9</b> Projeção Linear</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="14-Apêndice.html"><a href="#adi%C3%A7%C3%A3o-de-vetores"><i class="fa fa-check"></i><b>3.9.1</b> Adição de vetores</a></li>
<li class="chapter" data-level="3.9.2" data-path="14-Apêndice.html"><a href="#proje%C3%A7%C3%A3o-linear-1"><i class="fa fa-check"></i><b>3.9.2</b> Projeção linear</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="14-Apêndice.html"><a href="#introdu%C3%A7%C3%A3o-%C3%A0-simula%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>4</b> Introdução à Simulação</a>
<ul>
<li class="chapter" data-level="4.1" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html"><i class="fa fa-check"></i><b>4.1</b> Objetivos</a></li>
<li class="chapter" data-level="4.2" data-path="14-Apêndice.html"><a href="#introdu%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>4.2</b> Introdução</a></li>
<li class="chapter" data-level="4.3" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#dgp-processo-gerador-de-dados"><i class="fa fa-check"></i><b>4.3</b> DGP — Processo Gerador de Dados</a></li>
<li class="chapter" data-level="4.4" data-path="14-Apêndice.html"><a href="#simula%C3%A7%C3%A3o-de-monte-carlo"><i class="fa fa-check"></i><b>4.4</b> Simulação de Monte Carlo</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#simulando-um-dado"><i class="fa fa-check"></i><b>4.4.1</b> Simulando um dado</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="14-Apêndice.html"><a href="#configura%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>4.5</b> Configuração</a></li>
<li class="chapter" data-level="4.6" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#simular"><i class="fa fa-check"></i><b>4.6</b> Simular</a></li>
<li class="chapter" data-level="4.7" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#resumir"><i class="fa fa-check"></i><b>4.7</b> Resumir</a></li>
<li class="chapter" data-level="4.8" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#lgn-e-tcl"><i class="fa fa-check"></i><b>4.8</b> LGN e TCL</a></li>
<li class="chapter" data-level="4.9" data-path="introdução-à-simulação.html"><a href="introdução-à-simulação.html#cobertura-de-um-ic"><i class="fa fa-check"></i><b>4.9</b> Cobertura de um IC</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="14-Apêndice.html"><a href="#o-modelo-de-regress%C3%A3o"><i class="fa fa-check"></i><b>5</b> O Modelo de Regressão</a>
<ul>
<li class="chapter" data-level="5.1" data-path="14-Apêndice.html"><a href="#modelo-de-regress%C3%A3o---teoria"><i class="fa fa-check"></i><b>5.1</b> Modelo de Regressão - Teoria</a></li>
<li class="chapter" data-level="5.2" data-path="o-modelo-de-regressão.html"><a href="o-modelo-de-regressão.html"><i class="fa fa-check"></i><b>5.2</b> CEF</a></li>
<li class="chapter" data-level="5.3" data-path="o-modelo-de-regressão.html"><a href="o-modelo-de-regressão.html#cef-e-voto"><i class="fa fa-check"></i><b>5.3</b> CEF e voto</a></li>
<li class="chapter" data-level="5.4" data-path="o-modelo-de-regressão.html"><a href="o-modelo-de-regressão.html#algumas-propriedades-da-cef"><i class="fa fa-check"></i><b>5.4</b> Algumas Propriedades da CEF</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="14-Apêndice.html"><a href="#cef-%C3%A9-a-melhor-aproxima%C3%A7%C3%A3o-aos-dados"><i class="fa fa-check"></i><b>5.4.1</b> CEF é a melhor aproximação aos dados</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="14-Apêndice.html"><a href="#regress%C3%A3o-linear"><i class="fa fa-check"></i><b>5.5</b> Regressão Linear</a></li>
<li class="chapter" data-level="5.6" data-path="o-modelo-de-regressão.html"><a href="o-modelo-de-regressão.html#logaritmos"><i class="fa fa-check"></i><b>5.6</b> Logaritmos</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="14-Apêndice.html"><a href="#logartimos-como-diferen%C3%A7a-de-porcentagens"><i class="fa fa-check"></i><b>5.6.1</b> Logartimos como diferença de porcentagens</a></li>
<li class="chapter" data-level="5.6.2" data-path="14-Apêndice.html"><a href="#logaritmos-e-m%C3%A9dia-geom%C3%A9trica"><i class="fa fa-check"></i><b>5.6.2</b> Logaritmos e média geométrica</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="14-Apêndice.html"><a href="#prevendo-a-partir-da-esperan%C3%A7a-condicional"><i class="fa fa-check"></i><b>5.7</b> Prevendo a partir da esperança condicional</a></li>
<li class="chapter" data-level="5.8" data-path="o-modelo-de-regressão.html"><a href="o-modelo-de-regressão.html#preditores-lineares"><i class="fa fa-check"></i><b>5.8</b> Preditores lineares</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cef-1.html"><a href="cef-1.html"><i class="fa fa-check"></i><b>6</b> - CEF</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cef-1.html"><a href="cef-1.html#erro-da-cef"><i class="fa fa-check"></i><b>6.1</b> Erro da CEF</a></li>
<li class="chapter" data-level="6.2" data-path="cef-1.html"><a href="cef-1.html#simulando-para-entender-a-cef"><i class="fa fa-check"></i><b>6.2</b> Simulando para entender a CEF</a></li>
<li class="chapter" data-level="6.3" data-path="cef-1.html"><a href="cef-1.html#propriedades-da-cef"><i class="fa fa-check"></i><b>6.3</b> Propriedades da CEF</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="14-Apêndice.html"><a href="#a-esperan%C3%A7a-do-erro-condicional-a-x-%C3%A9-zero"><i class="fa fa-check"></i><b>6.3.1</b> A Esperança do Erro Condicional a X é zero</a></li>
<li class="chapter" data-level="6.3.2" data-path="14-Apêndice.html"><a href="#a-esperan%C3%A7a-n%C3%A3o-condicional-do-erro-%C3%A9-zero."><i class="fa fa-check"></i><b>6.3.2</b> A esperança (não-condicional) do erro é zero.</a></li>
<li class="chapter" data-level="6.3.3" data-path="14-Apêndice.html"><a href="#o-erro-da-cef-%C3%A9-n%C3%A3o-correlacionado-com-x"><i class="fa fa-check"></i><b>6.3.3</b> O erro da CEF é não-correlacionado com X</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="14-Apêndice.html"><a href="#regress%C3%A3o-linear-e-a-cef"><i class="fa fa-check"></i><b>6.4</b> Regressão Linear e a CEF</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="14-Apêndice.html"><a href="#m%C3%ADnimos-quadrados-ordin%C3%A1rios"><i class="fa fa-check"></i><b>6.4.1</b> Mínimos Quadrados Ordinários</a></li>
<li class="chapter" data-level="6.4.2" data-path="14-Apêndice.html"><a href="#suponha-que-a-cef-%C3%A9-linear-justificativa-i"><i class="fa fa-check"></i><b>6.4.2</b> Suponha que a CEF é Linear (Justificativa I)</a></li>
<li class="chapter" data-level="6.4.3" data-path="14-Apêndice.html"><a href="#%C3%A9-o-melhor-preditor-linear-do-y-justificativa-ii"><i class="fa fa-check"></i><b>6.4.3</b> É o melhor preditor linear do <span class="math inline">\(Y\)</span> (justificativa II)</a></li>
<li class="chapter" data-level="6.4.4" data-path="14-Apêndice.html"><a href="#a-reta-de-regress%C3%A3o-%C3%A9-a-aproxima%C3%A7%C3%A3o-com-o-menor-erro-quadr%C3%A1tico-m%C3%A9dio-justificativa-iii"><i class="fa fa-check"></i><b>6.4.4</b> A reta de regressão é a aproximação com o menor erro quadrático médio (justificativa III)</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="cef-1.html"><a href="cef-1.html#linearidade-e-causalidade"><i class="fa fa-check"></i><b>6.5</b> Linearidade e Causalidade</a></li>
<li class="chapter" data-level="6.6" data-path="14-Apêndice.html"><a href="#modelo-s%C3%B3-com-intercepto"><i class="fa fa-check"></i><b>6.6</b> Modelo só com intercepto</a></li>
<li class="chapter" data-level="6.7" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia-da-regress%C3%A3o"><i class="fa fa-check"></i><b>6.7</b> Variância da Regressão</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="cef-1.html"><a href="cef-1.html#chuva-na-jamaica"><i class="fa fa-check"></i><b>6.7.1</b> Chuva na Jamaica</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia-condicional"><i class="fa fa-check"></i><b>6.8</b> Variância condicional</a></li>
<li class="chapter" data-level="6.9" data-path="cef-1.html"><a href="cef-1.html#efeito-marginal"><i class="fa fa-check"></i><b>6.9</b> Efeito Marginal</a></li>
<li class="chapter" data-level="6.10" data-path="14-Apêndice.html"><a href="#cef-linear-com-preditores-n%C3%A3o-lineares"><i class="fa fa-check"></i><b>6.10</b> CEF linear com preditores não-lineares</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="14-Apêndice.html"><a href="#estima%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>7</b> - Estimação</a>
<ul>
<li class="chapter" data-level="7.1" data-path="estimação.html"><a href="estimação.html"><i class="fa fa-check"></i><b>7.1</b> Plug-in estimators</a></li>
<li class="chapter" data-level="7.2" data-path="estimação.html"><a href="estimação.html#simulando-de-uma-normal-bivariada"><i class="fa fa-check"></i><b>7.2</b> Simulando de uma Normal Bivariada</a></li>
<li class="chapter" data-level="7.3" data-path="14-Apêndice.html"><a href="#suposi%C3%A7%C3%B5es-amostrais-de-mqo"><i class="fa fa-check"></i><b>7.3</b> Suposições amostrais de MQO</a></li>
<li class="chapter" data-level="7.4" data-path="14-Apêndice.html"><a href="#modelo-de-m%C3%A9dia-amostral"><i class="fa fa-check"></i><b>7.4</b> Modelo de Média amostral</a></li>
<li class="chapter" data-level="7.5" data-path="14-Apêndice.html"><a href="#modelo-de-regress%C3%A3o-linear-com-preditores"><i class="fa fa-check"></i><b>7.5</b> Modelo de Regressão Linear com preditores</a></li>
<li class="chapter" data-level="7.6" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia-do-estimador"><i class="fa fa-check"></i><b>7.6</b> Variância do estimador</a></li>
<li class="chapter" data-level="7.7" data-path="14-Apêndice.html"><a href="#estimando-um-modelo-de-regress%C3%A3o-real"><i class="fa fa-check"></i><b>7.7</b> Estimando um modelo de regressão real</a></li>
<li class="chapter" data-level="7.8" data-path="14-Apêndice.html"><a href="#limita%C3%A7%C3%B5es-de-mqo"><i class="fa fa-check"></i><b>7.8</b> Limitações de MQO</a></li>
<li class="chapter" data-level="7.9" data-path="14-Apêndice.html"><a href="#distra%C3%A7%C3%B5es"><i class="fa fa-check"></i><b>7.9</b> Distrações</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="estimação.html"><a href="estimação.html#r-quadrado"><i class="fa fa-check"></i><b>7.9.1</b> R-quadrado</a></li>
<li class="chapter" data-level="7.9.2" data-path="estimação.html"><a href="estimação.html#r-quadrado-ajustado"><i class="fa fa-check"></i><b>7.9.2</b> R-quadrado ajustado</a></li>
<li class="chapter" data-level="7.9.3" data-path="estimação.html"><a href="estimação.html#limites-do-r-quadrado"><i class="fa fa-check"></i><b>7.9.3</b> Limites do R-quadrado</a></li>
<li class="chapter" data-level="7.9.4" data-path="estimação.html"><a href="estimação.html#para-que-serve"><i class="fa fa-check"></i><b>7.9.4</b> Para que serve?</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="14-Apêndice.html"><a href="#demonstra%C3%A7%C3%A3o-alternativa-que-estimador-%C3%A9-n%C3%A3o-viesado."><i class="fa fa-check"></i><b>7.10</b> Demonstração Alternativa que estimador é não-viesado.</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="causalidade.html"><a href="causalidade.html"><i class="fa fa-check"></i><b>8</b> - Causalidade</a>
<ul>
<li class="chapter" data-level="8.1" data-path="causalidade.html"><a href="causalidade.html#resultados-potenciais"><i class="fa fa-check"></i><b>8.1</b> Resultados Potenciais</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="14-Apêndice.html"><a href="#decomposi%C3%A7%C3%A3o-do-efeito-causal"><i class="fa fa-check"></i><b>8.1.1</b> Decomposição do Efeito Causal</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="14-Apêndice.html"><a href="#modelo-estrutural-e-modelo-de-regress%C3%A3o"><i class="fa fa-check"></i><b>8.2</b> Modelo estrutural e modelo de regressão</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="causalidade.html"><a href="causalidade.html#exemplo-de-cef-e-cef-estrutural"><i class="fa fa-check"></i><b>8.2.1</b> Exemplo de CEF e CEF estrutural</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="14-Apêndice.html"><a href="#simula%C3%A7%C3%A3o-de-resultados-potenciais-e-causalidade"><i class="fa fa-check"></i><b>8.3</b> Simulação de Resultados Potenciais e Causalidade</a></li>
<li class="chapter" data-level="8.4" data-path="14-Apêndice.html"><a href="#refer%C3%AAncias"><i class="fa fa-check"></i><b>8.4</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mle.html"><a href="mle.html"><i class="fa fa-check"></i><b>9</b> - MLE</a>
<ul>
<li class="chapter" data-level="9.1" data-path="14-Apêndice.html"><a href="#estima%C3%A7%C3%A3o-por-m%C3%A1xima-verossimilhan%C3%A7a"><i class="fa fa-check"></i><b>9.1</b> Estimação por Máxima Verossimilhança</a></li>
<li class="chapter" data-level="9.2" data-path="14-Apêndice.html"><a href="#teste-de-hip%C3%B3tese"><i class="fa fa-check"></i><b>9.2</b> Teste de hipótese</a></li>
<li class="chapter" data-level="9.3" data-path="14-Apêndice.html"><a href="#regress%C3%A3o"><i class="fa fa-check"></i><b>9.3</b> regressão</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="checagem.html"><a href="checagem.html"><i class="fa fa-check"></i><b>10</b> - Checagem</a>
<ul>
<li class="chapter" data-level="10.1" data-path="14-Apêndice.html"><a href="#res%C3%ADduos"><i class="fa fa-check"></i><b>10.1</b> Resíduos</a></li>
<li class="chapter" data-level="10.2" data-path="checagem.html"><a href="checagem.html#modelo-no-r"><i class="fa fa-check"></i><b>10.2</b> Modelo no R</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="14-Apêndice.html"><a href="#res%C3%ADduos-contra-o-preditor"><i class="fa fa-check"></i><b>10.2.1</b> Resíduos contra o preditor</a></li>
<li class="chapter" data-level="10.2.2" data-path="14-Apêndice.html"><a href="#magnitude-dos-res%C3%ADduos-contra-o-preditor"><i class="fa fa-check"></i><b>10.2.2</b> Magnitude dos Resíduos Contra o Preditor</a></li>
<li class="chapter" data-level="10.2.3" data-path="14-Apêndice.html"><a href="#res%C3%ADduos-com-dados-temporais-eou-espaciais"><i class="fa fa-check"></i><b>10.2.3</b> Resíduos com dados Temporais e/ou Espaciais</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="14-Apêndice.html"><a href="#normalidade-dos-res%C3%ADduos"><i class="fa fa-check"></i><b>10.3</b> Normalidade dos resíduos</a></li>
<li class="chapter" data-level="10.4" data-path="14-Apêndice.html"><a href="#generaliza%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>10.4</b> Generalização</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="14-Apêndice.html"><a href="#infer%C3%AAncia"><i class="fa fa-check"></i><b>11</b> - Inferência</a>
<ul>
<li class="chapter" data-level="11.1" data-path="inferência.html"><a href="inferência.html"><i class="fa fa-check"></i><b>11.1</b> Normal</a></li>
<li class="chapter" data-level="11.2" data-path="inferência.html"><a href="inferência.html#t-student"><i class="fa fa-check"></i><b>11.2</b> T-student</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="14-Apêndice.html"><a href="#avan%C3%A7ado---deriva%C3%A7%C3%A3o-da-t--de-student"><i class="fa fa-check"></i><b>11.2.1</b> Avançado - Derivação da t- de student</a></li>
<li class="chapter" data-level="11.2.2" data-path="inferência.html"><a href="inferência.html#teste-t"><i class="fa fa-check"></i><b>11.2.2</b> Teste t</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="14-Apêndice.html"><a href="#teste-de-hip%C3%B3tese-e-ic"><i class="fa fa-check"></i><b>11.3</b> Teste de Hipótese e IC</a></li>
<li class="chapter" data-level="11.4" data-path="14-Apêndice.html"><a href="#propriedades-assint%C3%B3ticas"><i class="fa fa-check"></i><b>11.4</b> Propriedades Assintóticas</a></li>
<li class="chapter" data-level="11.5" data-path="14-Apêndice.html"><a href="#infer%C3%AAncia-preditiva"><i class="fa fa-check"></i><b>11.5</b> Inferência Preditiva</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="regressao-multipla.html"><a href="regressao-multipla.html"><i class="fa fa-check"></i><b>12</b> - Regressao Multipla</a>
<ul>
<li class="chapter" data-level="12.1" data-path="14-Apêndice.html"><a href="#revis%C3%A3o-de-matriz-e-vetores"><i class="fa fa-check"></i><b>12.1</b> Revisão de Matriz e Vetores</a></li>
<li class="chapter" data-level="12.2" data-path="14-Apêndice.html"><a href="#modelo-b%C3%A1sico"><i class="fa fa-check"></i><b>12.2</b> Modelo básico</a></li>
<li class="chapter" data-level="12.3" data-path="regressao-multipla.html"><a href="regressao-multipla.html#modelo-com-matrizes"><i class="fa fa-check"></i><b>12.3</b> Modelo com matrizes</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="regressao-multipla.html"><a href="regressao-multipla.html#estimador-de-mqo"><i class="fa fa-check"></i><b>12.3.1</b> Estimador de MQO</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="14-Apêndice.html"><a href="#interpreta%C3%A7%C3%A3o-dos-coeficientes"><i class="fa fa-check"></i><b>12.4</b> Interpretação dos coeficientes</a></li>
<li class="chapter" data-level="12.5" data-path="14-Apêndice.html"><a href="#regress%C3%A3o-m%C3%BAltipla-versus-m%C3%BAltiplas-regress%C3%B5es-separadas-ou-vi%C3%A9s-de-vari%C3%A1vel-omitida"><i class="fa fa-check"></i><b>12.5</b> Regressão múltipla versus Múltiplas Regressões Separadas ou Viés de variável omitida</a></li>
<li class="chapter" data-level="12.6" data-path="14-Apêndice.html"><a href="#matriz-chap%C3%A9u"><i class="fa fa-check"></i><b>12.6</b> Matriz chapéu</a></li>
<li class="chapter" data-level="12.7" data-path="regressao-multipla.html"><a href="regressao-multipla.html#multicolinearidade"><i class="fa fa-check"></i><b>12.7</b> Multicolinearidade</a></li>
<li class="chapter" data-level="12.8" data-path="14-Apêndice.html"><a href="#erro-padr%C3%A3o-robusto"><i class="fa fa-check"></i><b>12.8</b> Erro padrão Robusto</a>
<ul>
<li class="chapter" data-level="12.8.1" data-path="14-Apêndice.html"><a href="#entendendo-o-erro-padr%C3%A3o-robusto"><i class="fa fa-check"></i><b>12.8.1</b> Entendendo o erro padrão robusto</a></li>
</ul></li>
<li class="chapter" data-level="12.9" data-path="14-Apêndice.html"><a href="#termo-de-intera%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>12.9</b> Termo de interação</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia-do-termo-de-intera%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>12.9.1</b> Variância do termo de interação</a></li>
<li class="chapter" data-level="12.9.2" data-path="14-Apêndice.html"><a href="#calculando-o-erro-padr%C3%A3o-do-termo-de-intera%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>12.9.2</b> Calculando o erro padrão do termo de interação</a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="14-Apêndice.html"><a href="#an%C3%A1lise-de-sensibilidade-causal"><i class="fa fa-check"></i><b>12.10</b> Análise de sensibilidade causal</a>
<ul>
<li class="chapter" data-level="12.10.1" data-path="14-Apêndice.html"><a href="#deriva%C3%A7%C3%A3o-do-r-quadrado"><i class="fa fa-check"></i><b>12.10.1</b> Derivação do R-quadrado</a></li>
<li class="chapter" data-level="12.10.2" data-path="14-Apêndice.html"><a href="#vi%C3%A9s-de-vari%C3%A1vel-omitida"><i class="fa fa-check"></i><b>12.10.2</b> Viés de variável omitida</a></li>
<li class="chapter" data-level="12.10.3" data-path="14-Apêndice.html"><a href="#vi%C3%A9s-de-vari%C3%A1vel-omitida-em-fun%C3%A7%C3%A3o-do-r-quadrado"><i class="fa fa-check"></i><b>12.10.3</b> Viés de variável omitida em função do R-quadrado</a></li>
</ul></li>
<li class="chapter" data-level="12.11" data-path="14-Apêndice.html"><a href="#refer%C3%AAncias-1"><i class="fa fa-check"></i><b>12.11</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="glm.html"><a href="glm.html"><i class="fa fa-check"></i><b>13</b> - GLM</a>
<ul>
<li class="chapter" data-level="13.1" data-path="glm.html"><a href="glm.html#plm"><i class="fa fa-check"></i><b>13.1</b> PLM</a></li>
<li class="chapter" data-level="13.2" data-path="14-Apêndice.html"><a href="#log%C3%ADstica"><i class="fa fa-check"></i><b>13.2</b> Logística</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="14-Apêndice.html"><a href="#log%C3%ADstica-como-melhoria-em-rela%C3%A7%C3%A3o-ao-mpl"><i class="fa fa-check"></i><b>13.2.1</b> Logística como melhoria em relação ao MPL</a></li>
<li class="chapter" data-level="13.2.2" data-path="glm.html"><a href="glm.html#logito"><i class="fa fa-check"></i><b>13.2.2</b> Logito</a></li>
<li class="chapter" data-level="13.2.3" data-path="14-Apêndice.html"><a href="#odds-ratio---raz%C3%A3o-de-chances"><i class="fa fa-check"></i><b>13.2.3</b> Odds Ratio - Razão de chances</a></li>
<li class="chapter" data-level="13.2.4" data-path="14-Apêndice.html"><a href="#coeficientes-e-erros-padr%C3%B5es"><i class="fa fa-check"></i><b>13.2.4</b> Coeficientes e erros padrões</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="14-Apêndice.html"><a href="#log%C3%ADstica-como-vari%C3%A1vel-latente"><i class="fa fa-check"></i><b>13.3</b> Logística como variável latente</a></li>
<li class="chapter" data-level="13.4" data-path="glm.html"><a href="glm.html#probit"><i class="fa fa-check"></i><b>13.4</b> Probit</a></li>
<li class="chapter" data-level="13.5" data-path="14-Apêndice.html"><a href="#log%C3%ADstica-como-glm"><i class="fa fa-check"></i><b>13.5</b> Logística como GLM</a></li>
<li class="chapter" data-level="13.6" data-path="14-Apêndice.html"><a href="#log%C3%ADstica-com-m%C3%BAltiplos-preditores"><i class="fa fa-check"></i><b>13.6</b> Logística com múltiplos preditores</a></li>
<li class="chapter" data-level="13.7" data-path="glm.html"><a href="glm.html#ajuste-do-modelo"><i class="fa fa-check"></i><b>13.7</b> Ajuste do modelo</a></li>
<li class="chapter" data-level="13.8" data-path="14-Apêndice.html"><a href="#regress%C3%A3o-com-dados-ordenados"><i class="fa fa-check"></i><b>13.8</b> Regressão com dados Ordenados</a></li>
<li class="chapter" data-level="13.9" data-path="14-Apêndice.html"><a href="#refer%C3%AAncias-2"><i class="fa fa-check"></i><b>13.9</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-Apêndice.html"><a href="#ap%C3%AAndice"><i class="fa fa-check"></i><b>14</b> - Apêndice</a>
<ul>
<li class="chapter" data-level="14.1" data-path="14-Apêndice.html"><a href="#importa%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>14.1</b> Importação</a></li>
<li class="chapter" data-level="14.2" data-path="14-Apêndice.html"><a href="#gr%C3%A1ficos-e-tabelas"><i class="fa fa-check"></i><b>14.2</b> Gráficos e Tabelas</a></li>
<li class="chapter" data-level="14.3" data-path="apêndice.html"><a href="apêndice.html"><i class="fa fa-check"></i><b>14.3</b> Limpeza de dados</a></li>
<li class="chapter" data-level="14.4" data-path="apêndice.html"><a href="apêndice.html#modelagem-de-dados"><i class="fa fa-check"></i><b>14.4</b> Modelagem de dados</a></li>
<li class="chapter" data-level="14.5" data-path="apêndice.html"><a href="apêndice.html#outros"><i class="fa fa-check"></i><b>14.5</b> Outros</a></li>
<li class="chapter" data-level="14.6" data-path="14-Apêndice.html"><a href="#%C3%A1lgebra-linear"><i class="fa fa-check"></i><b>14.6</b> Álgebra Linear</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="14-Apêndice.html"><a href="#espa%C3%A7o-de-vetores-e-subspa%C3%A7o"><i class="fa fa-check"></i><b>14.6.1</b> Espaço de vetores e subspaço</a></li>
<li class="chapter" data-level="14.6.2" data-path="14-Apêndice.html"><a href="#proje%C3%A7%C3%A3o-linear-2"><i class="fa fa-check"></i><b>14.6.2</b> Projeção linear</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="14-Apêndice.html"><a href="#econometria-de-s%C3%A9rie-de-tempo"><i class="fa fa-check"></i><b>14.7</b> Econometria de série de tempo</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="14-Apêndice.html"><a href="#modelos-b%C3%A1sicos"><i class="fa fa-check"></i><b>14.7.1</b> Modelos básicos</a></li>
<li class="chapter" data-level="14.7.2" data-path="apêndice.html"><a href="apêndice.html#ar1"><i class="fa fa-check"></i><b>14.7.2</b> AR1</a></li>
<li class="chapter" data-level="14.7.3" data-path="apêndice.html"><a href="apêndice.html#tscs"><i class="fa fa-check"></i><b>14.7.3</b> TSCS</a></li>
<li class="chapter" data-level="14.7.4" data-path="14-Apêndice.html"><a href="#modelo-est%C3%A1tico-e-din%C3%A2mico"><i class="fa fa-check"></i><b>14.7.4</b> Modelo estático e dinâmico</a></li>
<li class="chapter" data-level="14.7.5" data-path="apêndice.html"><a href="apêndice.html#efeitos-fixos"><i class="fa fa-check"></i><b>14.7.5</b> Efeitos Fixos</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="apêndice.html"><a href="apêndice.html#dados-espaciais"><i class="fa fa-check"></i><b>14.8</b> Dados Espaciais</a>
<ul>
<li class="chapter" data-level="14.8.1" data-path="14-Apêndice.html"><a href="#regress%C3%A3o-espacial"><i class="fa fa-check"></i><b>14.8.1</b> Regressão espacial</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="teoremas.html"><a href="teoremas.html"><i class="fa fa-check"></i><b>15</b> - Teoremas</a>
<ul>
<li class="chapter" data-level="15.1" data-path="14-Apêndice.html"><a href="#independ%C3%AAncia-e-correla%C3%A7%C3%A3o"><i class="fa fa-check"></i><b>15.1</b> Independência e Correlação</a></li>
<li class="chapter" data-level="15.2" data-path="teoremas.html"><a href="teoremas.html#propriedade-de-estimadores"><i class="fa fa-check"></i><b>15.2</b> Propriedade de estimadores</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="14-Apêndice.html"><a href="#vi%C3%A9s"><i class="fa fa-check"></i><b>15.2.1</b> Viés</a></li>
<li class="chapter" data-level="15.2.2" data-path="14-Apêndice.html"><a href="#vari%C3%A2ncia-1"><i class="fa fa-check"></i><b>15.2.2</b> Variância</a></li>
<li class="chapter" data-level="15.2.3" data-path="14-Apêndice.html"><a href="#efici%C3%AAncia"><i class="fa fa-check"></i><b>15.2.3</b> Eficiência</a></li>
<li class="chapter" data-level="15.2.4" data-path="14-Apêndice.html"><a href="#consist%C3%AAncia"><i class="fa fa-check"></i><b>15.2.4</b> Consistência</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="14-Apêndice.html"><a href="#exerc%C3%ADcios-para-o-leitor"><i class="fa fa-check"></i><b>15.3</b> Exercícios para o leitor</a></li>
<li class="chapter" data-level="15.4" data-path="14-Apêndice.html"><a href="#lei-das-esperan%C3%A7as-iteradas"><i class="fa fa-check"></i><b>15.4</b> Lei das Esperanças Iteradas</a></li>
<li class="chapter" data-level="15.5" data-path="teoremas.html"><a href="teoremas.html#teorema-do-condicionamento"><i class="fa fa-check"></i><b>15.5</b> Teorema do Condicionamento</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à Regresssão para Ciências Sociais</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="apêndice" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Capítulo 14</span> - Apêndice<a href="#ap%C3%AAndice" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Iremos tratar aqui de tópicos especiais. Em primeiro lugar, do R. Vamos listar aqui os pacotes do R que eu mais utilizo e as principais funções.</p>
<div id="importação" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> Importação<a href="#importa%C3%A7%C3%A3o" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para ler arquivos em csv ou formato tabular, prefiro a função <code>fread</code> do <strong>data.table</strong>.</p>
<p>Para ler arquivos de outrossoftwares, como stata ou SPSS, vejam as funções do pacote <strong>haven</strong>.</p>
<p>Para arquivos em formato xls ou xlsx, do Excel, uso a função <code>read_excel</code> do pacote <strong>readxl</strong>.</p>
</div>
<div id="gráficos-e-tabelas" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> Gráficos e Tabelas<a href="#gr%C3%A1ficos-e-tabelas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para visualização, uso o ggplot e pacotes que dialogam com o <strong>ggplot2</strong>. A única exceção é para plotar o gráfico da logística, que usei o R base e a função <code>curve</code>.</p>
<p>Para gerar tabelas em Rmarkdown, uso quatro funções (deveria ser mais consistente e usar só uma ou duas), <code>kable</code> do <strong>knitr</strong>, <code>gt</code> do pacote de mesmo nome, <code>stargazer</code>, também do pacote de mesmo nome e a função <code>etable</code> do pacote <strong>fixest</strong>, quando rodo regressões desse pacote.</p>
</div>
<div id="limpeza-de-dados" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Limpeza de dados<a href="apêndice.html#limpeza-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para limpeza de dados, além do <strong>tidyverse</strong> e <strong>tidyr</strong>, uso o pacote <strong>janitor</strong> (particularmente a função <code>clean_names</code>) e o pacote <strong>lubridate</strong> para trabalhar com datas. Com relação a textos, o pacote <strong>stringr</strong>.</p>
</div>
<div id="modelagem-de-dados" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> Modelagem de dados<a href="apêndice.html#modelagem-de-dados" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para regressões limpes, uso o R base e suas funções <code>lm</code> e <code>glm</code>. Para dados em painel, prefiro o pacote <strong>fixest</strong> e suas funções, como a <code>feols</code>, que evita de eu ter de chamar o pacote sandwich para erro padrão robusto. O <strong>fixest</strong> é melhor que o mais tradicional e antigo pacote <strong>plm</strong>, que era mais usado para dados em painel antigamente. Para modelos Bayesianos, vario entre <strong>rstanarm</strong> e <strong>brms</strong>.</p>
</div>
<div id="outros" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> Outros<a href="apêndice.html#outros" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Checagem do modelo, o pacote <strong>performance</strong>.
Para testes informais de permutação, o pacote <strong>nullabor</strong>.
Para instalação de pacotes direto do gihutb, <strong>devtools</strong>.
Para ajudar na reproducibilidade, uso o pacote <strong>here</strong> para não vincular aos meus diretórios específicos e evito usar o<code>setwd</code> para apontar o diretório.</p>
</div>
<div id="álgebra-linear" class="section level2 hasAnchor" number="14.6">
<h2><span class="header-section-number">14.6</span> Álgebra Linear<a href="#%C3%A1lgebra-linear" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Aqui apresentamos alguns tópicos de álgebra linear que podem ser úteis.</p>
<div id="espaço-de-vetores-e-subspaço" class="section level3 hasAnchor" number="14.6.1">
<h3><span class="header-section-number">14.6.1</span> Espaço de vetores e subspaço<a href="#espa%C3%A7o-de-vetores-e-subspa%C3%A7o" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O espaço vetorial de dimensão <span class="math inline">\(n\)</span> é o conjunto infinito de todos os vetores <span class="math inline">\(x = [x_1, x_2, \cdots, x_n]\)</span>, e as coordenadas <span class="math inline">\(x-i\)</span> podem ser quaisquer números reais.</p>
<p>Dizemos que um subespaço do espaço vetorial <span class="math inline">\(n\)</span>-dimensional que é <em>gerado</em> por um conjunto de <span class="math inline">\(k\)</span> vetores <span class="math inline">\(x = [x_1, x_2, \cdots, x_k]\)</span>, em que <span class="math inline">\(k\)</span> pode ser eventualmente igual a <span class="math inline">\(n\)</span> (ou menor), é o subconjunto de vetores <span class="math inline">\(y\)</span> naquele espaço que pode ser expresso como uma combinação linear do conjunto gerador:</p>
<p><span class="math inline">\(y = a_1x_1 + a_2x_2 + \cdots + a_kx_k\)</span></p>
<p>Dizemos que o conjunto de vetores <span class="math inline">\(x = [x_1, x_2, \cdots, x_k]\)</span> gera o subespaço que ele define.</p>
</div>
<div id="projeção-linear-2" class="section level3 hasAnchor" number="14.6.2">
<h3><span class="header-section-number">14.6.2</span> Projeção linear<a href="#proje%C3%A7%C3%A3o-linear-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="apêndice.html#cb335-1" tabindex="-1"></a><span class="co"># Load necessary library</span></span>
<span id="cb335-2"><a href="apêndice.html#cb335-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb335-3"><a href="apêndice.html#cb335-3" tabindex="-1"></a></span>
<span id="cb335-4"><a href="apêndice.html#cb335-4" tabindex="-1"></a><span class="co"># Define vectors u and v</span></span>
<span id="cb335-5"><a href="apêndice.html#cb335-5" tabindex="-1"></a>u <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb335-6"><a href="apêndice.html#cb335-6" tabindex="-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">0</span>)</span>
<span id="cb335-7"><a href="apêndice.html#cb335-7" tabindex="-1"></a></span>
<span id="cb335-8"><a href="apêndice.html#cb335-8" tabindex="-1"></a><span class="co"># Calculate the projection of u onto v</span></span>
<span id="cb335-9"><a href="apêndice.html#cb335-9" tabindex="-1"></a>proj_v_u <span class="ot">&lt;-</span> (<span class="fu">sum</span>(u <span class="sc">*</span> v) <span class="sc">/</span> <span class="fu">sum</span>(v <span class="sc">*</span> v)) <span class="sc">*</span> v</span>
<span id="cb335-10"><a href="apêndice.html#cb335-10" tabindex="-1"></a></span>
<span id="cb335-11"><a href="apêndice.html#cb335-11" tabindex="-1"></a><span class="co"># Create a data frame for plotting</span></span>
<span id="cb335-12"><a href="apêndice.html#cb335-12" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb335-13"><a href="apêndice.html#cb335-13" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">0</span>, u[<span class="dv">1</span>], <span class="dv">0</span>, v[<span class="dv">1</span>], <span class="dv">0</span>, proj_v_u[<span class="dv">1</span>]),</span>
<span id="cb335-14"><a href="apêndice.html#cb335-14" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>, u[<span class="dv">2</span>], <span class="dv">0</span>, v[<span class="dv">2</span>], <span class="dv">0</span>, proj_v_u[<span class="dv">2</span>]),</span>
<span id="cb335-15"><a href="apêndice.html#cb335-15" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">c</span>(<span class="st">&quot;Origin&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="st">&quot;Origin&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="st">&quot;Origin&quot;</span>, <span class="st">&quot;Projection&quot;</span>)</span>
<span id="cb335-16"><a href="apêndice.html#cb335-16" tabindex="-1"></a>)</span>
<span id="cb335-17"><a href="apêndice.html#cb335-17" tabindex="-1"></a></span>
<span id="cb335-18"><a href="apêndice.html#cb335-18" tabindex="-1"></a><span class="co"># Create the plot</span></span>
<span id="cb335-19"><a href="apêndice.html#cb335-19" tabindex="-1"></a><span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb335-20"><a href="apêndice.html#cb335-20" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> x[<span class="dv">1</span>], <span class="at">y =</span> y[<span class="dv">1</span>], <span class="at">xend =</span> x[<span class="dv">2</span>], <span class="at">yend =</span> y[<span class="dv">2</span>]), <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">&quot;cm&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb335-21"><a href="apêndice.html#cb335-21" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> x[<span class="dv">3</span>], <span class="at">y =</span> y[<span class="dv">3</span>], <span class="at">xend =</span> x[<span class="dv">4</span>], <span class="at">yend =</span> y[<span class="dv">4</span>]), <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.3</span>, <span class="st">&quot;cm&quot;</span>)), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb335-22"><a href="apêndice.html#cb335-22" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> x[<span class="dv">5</span>], <span class="at">y =</span> y[<span class="dv">5</span>], <span class="at">xend =</span> x[<span class="dv">6</span>], <span class="at">yend =</span> y[<span class="dv">6</span>]), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;green&quot;</span>, <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb335-23"><a href="apêndice.html#cb335-23" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> u[<span class="dv">1</span>] <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> u[<span class="dv">2</span>], <span class="at">label =</span> <span class="st">&quot;u&quot;</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-24"><a href="apêndice.html#cb335-24" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> v[<span class="dv">1</span>] <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> v[<span class="dv">2</span>], <span class="at">label =</span> <span class="st">&quot;v&quot;</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-25"><a href="apêndice.html#cb335-25" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x =</span> proj_v_u[<span class="dv">1</span>] <span class="sc">+</span> <span class="fl">0.5</span>, <span class="at">y =</span> proj_v_u[<span class="dv">2</span>], <span class="at">label =</span> <span class="st">&quot;proj_v_u&quot;</span>, <span class="at">color =</span> <span class="st">&quot;green&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-26"><a href="apêndice.html#cb335-26" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="fu">max</span>(u[<span class="dv">1</span>], v[<span class="dv">1</span>], proj_v_u[<span class="dv">1</span>]) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb335-27"><a href="apêndice.html#cb335-27" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, <span class="fu">max</span>(u[<span class="dv">2</span>], v[<span class="dv">2</span>], proj_v_u[<span class="dv">2</span>]) <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb335-28"><a href="apêndice.html#cb335-28" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb335-29"><a href="apêndice.html#cb335-29" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Projection of Vector u onto Vector v&quot;</span>,</span>
<span id="cb335-30"><a href="apêndice.html#cb335-30" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;X-axis&quot;</span>,</span>
<span id="cb335-31"><a href="apêndice.html#cb335-31" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Y-axis&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in geom_segment(aes(x = x[1], y = y[1], xend = x[2], yend = y[2]), : All aesthetics have length 1, but the data has 6 rows.
## ℹ Please consider using `annotate()` or provide this layer with data
##   containing a single row.</code></pre>
<pre><code>## Warning in geom_segment(aes(x = x[3], y = y[3], xend = x[4], yend = y[4]), : All aesthetics have length 1, but the data has 6 rows.
## ℹ Please consider using `annotate()` or provide this layer with data
##   containing a single row.</code></pre>
<pre><code>## Warning in geom_segment(aes(x = x[5], y = y[5], xend = x[6], yend = y[6]), : All aesthetics have length 1, but the data has 6 rows.
## ℹ Please consider using `annotate()` or provide this layer with data
##   containing a single row.</code></pre>
<p><img src="bookdownproj_files/figure-html/linear-proj%20ex1-1.png" width="900" style="display: block; margin: auto;" /></p>
<p>The plot above shows the vectors <span class="math inline">\(\mathbf{u}\)</span> (in blue) and <span class="math inline">\(\mathbf{v}\)</span> (in red), along with the projection of <span class="math inline">\(\mathbf{u}\)</span> onto <span class="math inline">\(\mathbf{v}\)</span> (in green, dashed line). The projection is the closest point on the line defined by <span class="math inline">\(\mathbf{v}\)</span> to the point represented by <span class="math inline">\(\mathbf{u}\)</span>. This visualization helps in understanding how projections work in a geometric sense.</p>
</div>
</div>
<div id="econometria-de-série-de-tempo" class="section level2 hasAnchor" number="14.7">
<h2><span class="header-section-number">14.7</span> Econometria de série de tempo<a href="#econometria-de-s%C3%A9rie-de-tempo" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Uma série de tempo é caracterizada por um vetor do tipo <span class="math inline">\(\{y_t, y_{t+1}, y_{t+2}, \cdot + t_{t+k}\}\)</span>. Em uma análise de corte transversal, nós tipicamente assumimos que a amostra era aleatória e iid. Aqui, essa suposição não é plausível devido à provável correlação temporal. A razão pela qual assumimos iid é porque precisamos alguma forma de constância para que possamos aprender algo sobre a nossa variável. Se o passado não se assemelhar ao futuro, nada poderá ser aprendido.</p>
<p>Tipicamente, a constância assumida é estacionariedade. Ela implica que a dsitribuição de <span class="math inline">\(y_t\)</span> é estável ao longo do tempo. Em particular, que a distribuição de <span class="math inline">\(y_t\)</span> é independente de <span class="math inline">\(t\)</span>. Isso vai implicar que a média de <span class="math inline">\(y\)</span> não depende de <span class="math inline">\(t\)</span>, bem como a variância.</p>
<div id="modelos-básicos" class="section level3 hasAnchor" number="14.7.1">
<h3><span class="header-section-number">14.7.1</span> Modelos básicos<a href="#modelos-b%C3%A1sicos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>O modelo mais básico de série de tempo é do tipo:</p>
<p><span class="math display">\[
y_t = \mu + e_t + \theta e_{t-1}
\]</span>
Nesse modelo, vemos que o <span class="math inline">\(y\)</span> do presente depende do erro presente e do erro do passado imediato. Nós dizemos que o termo de erro segue uma <em>Moving Average</em> de ordem 1, denotado por <span class="math inline">\(MA(1)\)</span>. O termo Média Móvel vem do fato de que o <span class="math inline">\(y_t\)</span> é uma média ponderada dos erros <span class="math inline">\(t\)</span> e <span class="math inline">\(t-1\)</span>. Tipicamente assumimos que o termo de erro <span class="math inline">\(e_t\)</span> possui <span class="math inline">\(\mathbb{E}[e_t] = 0\)</span> e varância igual a <span class="math inline">\(\sigma^2\)</span>, ou seja, <span class="math inline">\(e_t \sim N(0, \sigma^2)\)</span>. Esse erro é chamado de ruído branco, para indicar que não possui sinal.</p>
<p>Vamos agora provar alguns fatos.
Variância de <span class="math inline">\(y_t\)</span></p>
<p><span class="math display">\[\begin{align*}
Var(y_t) = Var(\mu + e_t + \theta e_{t-1}) \\
\text{como } \mu \text{ é constante, não altera a variância} \\
Var(y_t) = Var(e_t + \theta e_{t-1}) \\
Var(y_t) = Var(e_t) + Var(\theta e_{t-1}) \text{, usando que o erro é idd} \\
Var(y_t) = Var(e_t) + \theta^2 Var(e_{t-1}) \\
Var(y_t) = \sigma^2 + \theta^2 \sigma^2 \\
Var(y_t) = \sigma^2(1 + \theta^2 ) \\
\end{align*}\]</span></p>
<p>Covariância de ordem 1.</p>
<p><span class="math display">\[\begin{align*}
Cov(y_t, y_{t-1}) = Cov(\mu + e_t + \theta e_{t-1}, \mu + e_{t-1} + \theta e_{t-2} ) &amp;= \\
\text{como } \mu \text{ é constante, não altera a covariância} \\
Cov(e_t + \theta e_{t-1}, e_{t-1} + \theta e_{t-2} ) &amp;= \\
Cov(e_t, e_{t-1}) +  Cov(e_t, \theta e_{t-2}) + Cov(\theta e_{t-1}, e_{t-1}) + Cov(\theta e_{t-1},\theta e_{t-2} ) &amp;= \\
Cov(e_t, e_{t-1}) +  \theta Cov(e_t,  e_{t-2}) + \theta Cov( e_{t-1}, e_{t-1}) + \theta^2Cov( e_{t-1}, e_{t-2} ) &amp;= \\
\text{ lembrando que os erros são iid} \\
0 +  \theta 0 + \theta \sigma^2 + \theta^2 0 &amp;= \\
\theta \sigma^2 \\
\end{align*}\]</span></p>
<p>Correlação de ordem 1</p>
<p><span class="math display">\[\begin{align*}
cor(y_t, y_{t-1}) = \frac{Cov(y_t, y_{t-1})}{sd(y_t) sd(y_{t-1})} \\
cor(y_t, y_{t-1}) = \frac{\theta \sigma^2}{sd(y_t) sd(y_{t})} \\
cor(y_t, y_{t-1}) = \frac{\theta \sigma^2}{\sigma^2(1 + \theta^2 )} \\
cor(y_t, y_{t-1}) = \frac{\theta}{(1 + \theta^2 )} \\
\end{align*}\]</span></p>
<p>E também é possível mostrar que a correlação de ordem maior que 1 é zero.</p>
<p>Em geral, precisamos especificar o que acontece no primeiro período da série, e tipicamente estabelecemso algo como <span class="math inline">\(y_{t0} = y_0\)</span>. Vale escrever a equação acima com o termo de erro do lado direito e notar que existe auto-correlação serial:</p>
<p><span class="math display">\[\begin{align}
y_{t} = \mu + e_{t} + \theta e_{t-1} \\
e_{t} =  \theta e_{t-1} - y_{t}  \\
\text{vejamos agora a equação para o período } t+1
e_{t+1} =  \theta e_{t} - y_{t+1}  \\
\text{substituindo } e_{t} \\
e_{t+1} =  \theta (\theta e_{t-1} - y_{t}) - y_{t+1}  \\
e_{t+1} =  \theta \theta e_{t-1} - \theta y_{t} - y_{t+1}  \\
\end{align}\]</span></p>
<p>De maneira geral, temos que o erro em <span class="math inline">\(t\)</span> possui correlação com o erro em <span class="math inline">\(t-1\)</span> dada por <span class="math inline">\(theta\)</span> e para <span class="math inline">\(t-2\)</span> com <span class="math inline">\(\theta^2\)</span> e assim por diante para períodos maiores. Isso é o que configura a correlação serial de um processo <span class="math inline">\(AR(1)\)</span>.</p>
<p>Vejamos um exemplo rápido no R.</p>
<p><img src="bookdownproj_files/figure-html/white-noise-1.png" width="900" style="display: block; margin: auto;" /><img src="bookdownproj_files/figure-html/white-noise-2.png" width="900" style="display: block; margin: auto;" /></p>
</div>
<div id="ar1" class="section level3 hasAnchor" number="14.7.2">
<h3><span class="header-section-number">14.7.2</span> AR1<a href="apêndice.html#ar1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um outro modelo básico é um Processo AutoRegressivo de Primeira Ordem, denotado de AR(1).</p>
<p><span class="math display">\[
y_t = \alpha_0 + \alpha_1 y_{t-1} + e_t
\]</span></p>
<p>Um exemplo simples é a popularidade presencial. Seja <span class="math inline">\(y_t\)</span> a popularidade presidencial em uma escala de 0 a 10. Suponha que existe um nível mínimo de partidários (percentual da população) que sempre apoiam o presidente <span class="math inline">\(\alpha_0\)</span> e que um percentual aleatório de pessoas mudam de opinião sobre aprovação do presidente. Então, podemos fazer um modelo simples dado pela equação acima.</p>
<pre><code>## Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;.
## Defaulting to continuous.</code></pre>
<p><img src="bookdownproj_files/figure-html/AR1-1.png" width="900" style="display: block; margin: auto;" /></p>
<pre><code>## [1] 0.499343</code></pre>
<pre><code>## Don&#39;t know how to automatically pick scale for object of type &lt;ts&gt;.
## Defaulting to continuous.</code></pre>
<p><img src="bookdownproj_files/figure-html/AR1-2.png" width="900" style="display: block; margin: auto;" /></p>
<p>Um modelo que combina um AR de ordem <span class="math inline">\(p\)</span> com MA de ordem <span class="math inline">\(q\)</span> é chamado de <span class="math inline">\(ARMA(p,q)\)</span>.</p>
</div>
<div id="tscs" class="section level3 hasAnchor" number="14.7.3">
<h3><span class="header-section-number">14.7.3</span> TSCS<a href="apêndice.html#tscs" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>É raro que em ciência política analisamos um modelo de série de tempo sem preditores e para uma única unidade. Em geral, temos vários preditores e várias unidades. Esses dados são chamados em ciência política de Série de Tempo com Corte Tranversal, tipicamente abreviados em inglês para TSCS (Time Series Cross Section). Em economia esses dados são chamados de painel. Na epidemiologia, são dados longitudinais.</p>
<p>A forma básica desses dados requer que tenhamos medidas das mesmas unidades <span class="math inline">\(i\)</span> ao longo de vários períodos de tempo <span class="math inline">\(t\)</span>.</p>
</div>
<div id="modelo-estático-e-dinâmico" class="section level3 hasAnchor" number="14.7.4">
<h3><span class="header-section-number">14.7.4</span> Modelo estático e dinâmico<a href="#modelo-est%C3%A1tico-e-din%C3%A2mico" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Esses modelos podem ser estáticos ou dinâmicos. Modelos estáticos incluem apenas relações contemporâneas (no mesmo período de tempo) entre variáveis. Esse tipo de de modelo é apropriado quando um preditor ou múiltiplos preditores produzem mudanças instantâneas (no período considerado). Uma equação típica seria:</p>
<p><span class="math display">\[
y_{it} = \alpha + \beta_1x_{1it} + \beta_2x_{2it} + \cdots + \beta_px_{pit} + e_{it}
\]</span></p>
<p>Já um modelo dinâmico captura relação entre valores correntes e defasados (lagged) dos preditores com a resposta. Um exemplo simples com <span class="math inline">\(m\)</span> termos defasados seria:</p>
<p><span class="math display">\[
y_{it} = \alpha + \beta_1x_{1it} + \beta_2x_{2it-1} + \cdots + \beta_2x_{2it-m} e_{it}
\]</span></p>
<p>Esses modelos trazem a complicação adicional de que temos de considerar possibilidade de termos um componente autoregresivo ou de média móvel na dimensão temporal, como vimos acima. E isso altera as condições para que um estimador não seja viesado.</p>
<p>Não temos tempo de aprofundar isso aqui, mas eu quero pelo menos introduzir o principal tipo de modelo que é utilizado, que é o chamado modelo de efeitos fixos.</p>
</div>
<div id="efeitos-fixos" class="section level3 hasAnchor" number="14.7.5">
<h3><span class="header-section-number">14.7.5</span> Efeitos Fixos<a href="apêndice.html#efeitos-fixos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vamos supor que queremos medir o efeito do número efetivo de partidos sobre percentual de mulheres eleitas. Podemos esperar que quanto maior a fragmentação partidária, mais difícil mulheres serem eleitas. Um problema de uma regressão com fragmentação partidária e percentual de mulheres eleitas, do ponto de vista causal, é que podemos ter viés de seleção. Por exemplo, pode acontecer de estados que no passado tiveram mais mobilização feminista tenha menos partidos e também eleja mais mulheres. Vamos chamar essa variável de <span class="math inline">\(U\)</span>, para indicar que é não observada (unobserved, em inglês).</p>
<p><span class="math display">\[
y_{it} = \alpha + \beta x_{it} + u_i + e_{it}
\]</span>
Em que <span class="math inline">\(x_t\)</span> é o número de partido (ou alguma medida de fragmentação partidária) em <span class="math inline">\(t\)</span>, e <span class="math inline">\(u_i\)</span> é a presença ou não de mobilização feminista no passado (pré período <span class="math inline">\(t\)</span>).</p>
<p>Considere que temos dois períodos, <span class="math inline">\(1\)</span> e <span class="math inline">\(2\)</span>. Temos então uma equação de regressão para cada período.</p>
<p>A ideia do modelo de efeitos fixos é simplesmente rodar uma regressão em que computamos a média de todas as variáveis do modelo e subtraímos essa média. Formalmente:</p>
<p><span class="math display">\[\begin{align}
\text{Sejam } \bar{y}_i = \frac{y_{i1} + y_{i2}}{2}, \bar{x}_i = \frac{x_{i1} + x_{i2}}{2}, \bar{u}_i = \frac{u_{i} + u_{i}}{2} = u_i \text{ e } \bar{e}_i = \frac{e_{i1} + e_{i2}}{2} \text{ as médias no tempo para cada invíduo de cada variável} \\
\end{align}\]</span></p>
<p>Obtemos assim uma equação de regressão alternativa com a média:
<span class="math display">\[
\bar{y}_i = \alpha + \beta \bar{x}_i + \bar{u}_i + \bar{e}_i
\]</span>
Agora, subtraindo da equação principal, temos:</p>
<p><span class="math display">\[\begin{align}
y_{it} - \bar{y}_i = \alpha - \alpha + \beta x_{it} - \bar{x}_i + u_i  -\bar{u_i} + e_{it} - \bar{e}_i &amp;= \\
\tilde{y}_{it} =  \beta \tilde{x}_{it} + \tilde{e}_{it}
\end{align}\]</span></p>
<p>Uma formulação alternativa, com dois períodos, é dada pela primeira diferença, isto é, <span class="math inline">\(y_{i, 2} - y_{i,1}\)</span>:</p>
<p><span class="math display">\[\begin{align}
y_{i, 2} - y_{i,1} = \alpha - \alpha + \beta x_{i,2} - \beta x_{i,1} + u_i  -u_i + e_{i,2} - e_{i,1} &amp;= \\
\beta  x_{i,2} - x_{i,1} + e_{i,2} - e_{i,1}
\end{align}\]</span></p>
<p>Isso significa que conseguimos eliminar a variável de confusão não-observada que gerava viés de seleção, efetivamente controlando para ela. Para isso, precisamos subtrair a média de cada variável, ou, equivalentemente, computar a primeira diferença.</p>
<p>Note que calculamos a média para cada indivíduo. Poderíamos ter também calculado a média para cada período de tempo. Nesse caso, teríamos o chamado efeito fixo de tempo. Quando usamos os dois efeitos fixos (de tempo e unidade), tempos o chamado “two-way fixed effects”. E no caso de dois períodos é equivalente ao método conhecido como diferença-em-diferenças.</p>
<p>O ponto fundamental desse método é que ele elimina confoudings de efeitos invariantes no tempo por unidade e efeitos comuns a todas as unidades no tempo (invariantes por unidade).</p>
</div>
</div>
<div id="dados-espaciais" class="section level2 hasAnchor" number="14.8">
<h2><span class="header-section-number">14.8</span> Dados Espaciais<a href="apêndice.html#dados-espaciais" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Há dois tipos de dados espaciais diferentes que se traduzem em visualizações distintas. Em primeiro lugar, temos dados espaciais em pontos, que podem ser plotados como conjuntos de pontos em um mapa. Designam localizações específicas, como cidades ou quaisquer objetos discretos definidos em um espaço. E em segundo lugar, temos dados espaciais de polígonos, que representam uma sequência de pontos conectados espacialmente (em geral fronteiras) que formam um área.</p>
<p>Dados em formato de polígonos usualmente são distribuídos na forma de shapefiles.</p>
<div id="regressão-espacial" class="section level3 hasAnchor" number="14.8.1">
<h3><span class="header-section-number">14.8.1</span> Regressão espacial<a href="#regress%C3%A3o-espacial" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quando falamos de regressão espacial, tipicamente estamos tratando de dados espaciais em pontos, isto é, unidades que se localizam no espaço, como cidades, bairros ou distritos. E de maneira análoga ao que tratamos em série de tempo de que os dados podem ter autocorrelação temporal, também podem ter autocorrelação espacial.</p>
<p>Só que, ao contrário do tempo, em que a direção de causalidade vai sempre do passado para o futuro, no caso espacial, unidades vizinhas podem causar umas as outras, de modo que a modelagem é mais complexa, o que impede-nos de aprofundar aqui no curso esse tópico.</p>
<p>De todo modo, vale a pena apresentar dois modelos básicos:</p>
<div id="spatial-lag-outcome-model" class="section level4 hasAnchor" number="14.8.1.1">
<h4><span class="header-section-number">14.8.1.1</span> Spatial lag (Outcome) model<a href="apêndice.html#spatial-lag-outcome-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>O modelo espacial defasado tipicamente ocorre quando a variável resposta <span class="math inline">\(y\)</span> com aspecto espacial é incluída como preditor. Isso acontece quando queremos modelar algum processo de difusão ou contágio da variável resposta. Um exemplo comum em Relações Internacionais é o de estudos sobre o efeito de assinar tratados de proteção a investimento sobre o volume de investimento estrangeiro direto (IED). Se o país vizinho recebe mais investimento (por exemplo OpenAi decide construir um data-center na Argentina) isso impacta o volume de investimentos no Brasil e vice-versa.</p>
</div>
<div id="spatially-lagged-predictor-variable" class="section level4 hasAnchor" number="14.8.1.2">
<h4><span class="header-section-number">14.8.1.2</span> Spatially lagged (predictor) variable<a href="apêndice.html#spatially-lagged-predictor-variable" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Aqui, estamos interessados na difusão ou spillover do tratamento. Considerando o exemplo acima, se um país vizinho assina um tratado de proteção a investimento isso impacta não apenas a atração de investimento no país, mas também no vizinho.</p>
</div>
<div id="spatial-error-model" class="section level4 hasAnchor" number="14.8.1.3">
<h4><span class="header-section-number">14.8.1.3</span> Spatial error model<a href="apêndice.html#spatial-error-model" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Por fim, também podemos concluir que variáveis não observadas podem induzir difusão ou contágio, de modo que o termo de erro terá um cumponente espacial.</p>
<p>A especificação da regressão para cada tipo de modelo (ou uma combinação de um ou mais tipos pode ser feita) é dada por:</p>
<ol style="list-style-type: decimal">
<li>Resposta defasada espacialmente.</li>
</ol>
<p><span class="math display">\[
y_{i} = \alpha + \rho Wy_{-i} + \beta x_i + e_i
\]</span></p>
<ol start="2" style="list-style-type: decimal">
<li>Preditor defasado espacialmente.</li>
</ol>
<p><span class="math display">\[
y_{i} = \alpha + \rho Wx_{-i} + \beta x_i + e_i
\]</span>
3. Termo de erro defasado espacialmente.</p>
<p><span class="math display">\[\begin{align}
y_{i} = \alpha + \beta x_i + e_i \\
e_i = \lambda We_{-i} + \epsilon_i    
\end{align}\]</span></p>
<p>Em todos os casos, <span class="math inline">\(W\)</span> é a matriz de pesos espaciais. Se apenas vizinhos diretos podem influenciar uns aos outros, então ela terá peso zero para países que não são vizinhos. Tipicamente este é o caso, pois o número de parâmetros aumenta muito se todos os países puderem influenciar todos os países e pode acabar sendo maior do que o número de observações.</p>
<p>Por fim, é possível combinar aspectos temporais e espaciais em uma única análise. Na prática isso é raro, pois requer conhecimentos especializados de duas sub-áreas distintas. No geral a maioria dos trabalhos em ciência política e Relações Internacionais ignora as correlações espaciais.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="glm.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="teoremas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/mgaldino/book-regression/edit/main/14-Apêndice.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/mgaldino/book-regression/blob/main/14-Apêndice.Rmd",
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
